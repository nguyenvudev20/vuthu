<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VĂN VŨ & ANH THƯ </title>
  <link rel="icon"
  href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Ctext y='14' font-size='14'%3E%E2%9D%A4%EF%B8%8F%3C/text%3E%3C/svg%3E">

  <style>
    html, body { height: 100%; margin: 0; background: #fff; }
    body { display: grid; place-items: center; overflow: hidden; cursor: none; }

    /* Frame để tránh rìa ảnh khi animate */
    .frame { width: 90vw; height: 90vh;margin: 0px auto; inset: 0; overflow: hidden; display: grid; place-items: center; }
    .frame img { width: 90vw; height: 90vh;margin: 0px auto; object-fit: contain; display: block; backface-visibility: hidden; will-change: transform, opacity; }

    /* Overlay nhắc bật âm thanh (không có nút, chỉ click bất kỳ) */
    #overlay { position: fixed; inset: 0; display: none; place-items: center; background: rgba(0,0,0,.7); color: #fff; font: 600 18px system-ui, -apple-system, Segoe UI, Roboto, Arial; letter-spacing: .2px; }
    #overlay .card { padding: 16px 22px; border: 1px solid rgba(255,255,255,.2); border-radius: 12px; background: rgba(15,15,20,.6); }

    /* === Hiệu ứng (5 kiểu) === */
    .fx-fade   { animation: fade 7s ease-in-out infinite; }
    .fx-zoom-in  { animation: zoomIn 7s ease-in-out infinite; }
    .fx-zoom-out { animation: zoomOut 7s ease-in-out infinite; }
    .fx-pan-left { animation: panLeft 7s ease-in-out infinite; }
    .fx-pan-right{ animation: panRight 7s ease-in-out infinite; }

    @keyframes fade { 0%{opacity:.0} 10%{opacity:1} 90%{opacity:1} 100%{opacity:.0} }
    @keyframes zoomIn { 0%{transform:scale(1)} 100%{transform:scale(1.1)} }
    @keyframes zoomOut{ 0%{transform:scale(1.1)} 100%{transform:scale(1)} }
    @keyframes panLeft{ 0%{transform:translateX(3%) } 100%{transform:translateX(-3%)} }
    @keyframes panRight{0%{transform:translateX(-3%)} 100%{transform:translateX(3%) } }
  </style>
</head>
<body>
  <!-- Chỉ hiển thị duy nhất ảnh 1.jpg, full screen (không crop) -->
  <div class="frame"><img id="photo" src="hinhanh/1.jpg" alt="Slideshow" /></div>

  <!-- Nhạc nền mặc định (tự động thử phát) -->
  <audio id="bgm" src="audio/xứng đôi cưới thôi nhen.mp3" preload="auto" loop></audio>

  <!-- Overlay yêu cầu người dùng click để bật âm thanh nếu bị chặn autoplay -->
  <div id="overlay"><div class="card">Chạm bất kỳ để phát nhạc nền…</div></div>

  <script>
    (async function(){
      const audio = document.getElementById('bgm');
      const overlay = document.getElementById('overlay');
      const img = document.getElementById('photo');

      // Thử autoplay có tiếng; nếu bị chặn, hiện overlay và phát khi user tương tác
      try { await audio.play(); }
      catch (_) {
        overlay.style.display = 'grid';
        const enable = async () => {
          overlay.style.display = 'none';
          try { audio.muted = false; await audio.play(); } catch (e) {}
          window.removeEventListener('pointerdown', enable);
          window.removeEventListener('keydown', enable);
        };
        window.addEventListener('pointerdown', enable, { once: true });
        window.addEventListener('keydown', enable, { once: true });
      }

      // Ẩn con trỏ sau 2s không hoạt động để trải nghiệm sạch sẽ
      let hideTimer; const hide = ()=> document.body.style.cursor='none';
      const show = ()=>{ document.body.style.cursor='auto'; clearTimeout(hideTimer); hideTimer=setTimeout(hide, 2000); };
      window.addEventListener('mousemove', show);
      hideTimer=setTimeout(hide, 2000);

      // ===== Thêm 5 hiệu ứng cho chính ảnh đó (luân phiên) =====
      // Danh sách class hiệu ứng. Có thể xáo trộn nếu muốn ngẫu nhiên.
      const effects = ['fx-fade','fx-zoom-in','fx-zoom-out','fx-pan-left','fx-pan-right'];
      let i = 0;
      function applyEffect(){
        img.className = ''; // xoá class cũ
        img.offsetHeight;   // force reflow để restart animation
        img.classList.add(effects[i % effects.length]);
        i++;
      }
      // Áp dụng ngay và lặp mỗi 7 giây
      applyEffect();
      setInterval(applyEffect, 7000);

      // Nếu ảnh đang bị "zoom/crop" ở bản trước do object-fit: cover,
      // mình đã đổi sang object-fit: contain ở CSS để **không cắt ảnh** nữa.
    })();
  </script>
</body>
</html>
